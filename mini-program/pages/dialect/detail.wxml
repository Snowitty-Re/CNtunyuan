<view class="container">
  <view class="audio-section">
    <view class="audio-visual">
      <view class="audio-waves" wx:if="{{isPlaying}}">
        <view class="wave-item" wx:for="{{8}}" wx:key="index" style="animation-delay: {{index * 0.1}}s"></view>
      </view>
      <view class="audio-static" wx:else>ğŸµ</view>
    </view>
    <view class="audio-info">
      <view class="audio-title">{{dialect.title}}</view>
      <view class="audio-duration">{{currentTime}} / {{formatDuration(dialect.duration)}}</view>
    </view>
    <view class="audio-controls">
      <view class="control-btn" bindtap="togglePlay">
        <text class="control-icon">{{isPlaying ? 'â¸' : 'â–¶'}}</text>
      </view>
    </view>
    <slider class="audio-progress" min="0" max="{{dialect.duration}}" value="{{currentSeconds}}" bindchange="seekAudio" block-size="12"/>
  </view>

  <view class="info-card">
    <view class="info-title">æ–¹è¨€ä¿¡æ¯</view>
    <view class="info-item">
      <text class="info-label">åœ°åŒº</text>
      <text class="info-value">{{dialect.province}} {{dialect.city}} {{dialect.district}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">è¯¦ç»†åœ°å€</text>
      <text class="info-value">{{dialect.address || 'æš‚æ— '}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">æè¿°</text>
      <text class="info-value">{{dialect.description || 'æš‚æ— æè¿°'}}</text>
    </view>
    <view class="info-item">
      <text class="info-label">é‡‡é›†äºº</text>
      <view class="collector-info">
        <image class="avatar" src="{{dialect.collector?.avatar || '/assets/default-avatar.png'}}" />
        <text>{{dialect.collector?.nickname || 'æœªçŸ¥'}}</text>
      </view>
    </view>
    <view class="info-item">
      <text class="info-label">é‡‡é›†æ—¶é—´</text>
      <text class="info-value">{{dialect.created_at}}</text>
    </view>
  </view>

  <view class="stats-card">
    <view class="stat-item" bindtap="like">
      <text class="stat-icon">â¤</text>
      <text class="stat-num">{{dialect.like_count}}</text>
      <text class="stat-label">ç‚¹èµ</text>
    </view>
    <view class="stat-item">
      <text class="stat-icon">â–¶</text>
      <text class="stat-num">{{dialect.play_count}}</text>
      <text class="stat-label">æ’­æ”¾</text>
    </view>
  </view>

  <view class="action-bar">
    <button class="btn-primary" bindtap="share">åˆ†äº«</button>
    <button class="btn-secondary" bindtap="goToCollector">æŸ¥çœ‹é‡‡é›†äºº</button>
  </view>
</view>
