<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <view class="search-input">
      <text class="icon-search">ğŸ”</text>
      <input type="text" placeholder="æœç´¢æ¡ˆä»¶ã€æ–¹è¨€..." bindinput="onSearchInput" />
    </view>
  </view>

  <!-- åŠŸèƒ½å…¥å£ -->
  <view class="card">
    <view class="feature-grid">
      <view class="feature-item" bindtap="goToCreateCase">
        <view class="feature-icon icon-case">ğŸ“‹</view>
        <text class="feature-text">ç™»è®°æ¡ˆä»¶</text>
      </view>
      <view class="feature-item" bindtap="goToDialect">
        <view class="feature-icon icon-dialect">ğŸ¤</view>
        <text class="feature-text">å½•æ–¹è¨€</text>
      </view>
      <view class="feature-item" bindtap="goToMap">
        <view class="feature-icon icon-map">ğŸ—ºï¸</view>
        <text class="feature-text">é™„è¿‘æ¡ˆä»¶</text>
      </view>
      <view class="feature-item" bindtap="goToTasks">
        <view class="feature-icon icon-task">ğŸ“‹</view>
        <text class="feature-text">æˆ‘çš„ä»»åŠ¡</text>
      </view>
    </view>
  </view>

  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="card">
    <view class="stats-grid">
      <view class="stat-item">
        <view class="stat-number">{{stats.totalCases}}</view>
        <view class="stat-label">ç´¯è®¡æ¡ˆä»¶</view>
      </view>
      <view class="stat-item">
        <view class="stat-number text-success">{{stats.resolvedCases}}</view>
        <view class="stat-label">æˆåŠŸå›¢åœ†</view>
      </view>
      <view class="stat-item">
        <view class="stat-number text-primary">{{stats.volunteers}}</view>
        <view class="stat-label">å¿—æ„¿è€…</view>
      </view>
      <view class="stat-item">
        <view class="stat-number text-warning">{{stats.dialects}}</view>
        <view class="stat-label">æ–¹è¨€å½•éŸ³</view>
      </view>
    </view>
  </view>

  <!-- æœ€æ–°æ¡ˆä»¶ -->
  <view class="card">
    <view class="card-header">
      <text class="card-title">æœ€æ–°æ¡ˆä»¶</text>
      <text class="card-more" bindtap="goToCases">æŸ¥çœ‹æ›´å¤š ></text>
    </view>
    <view class="case-list">
      <view class="case-item" wx:for="{{recentCases}}" wx:key="id" bindtap="goToCaseDetail" data-id="{{item.id}}">
        <image class="case-image" src="{{item.photos[0]?.url || '/assets/default-avatar.png'}}" mode="aspectFill" />
        <view class="case-info">
          <view class="case-name">{{item.name}} <text class="case-age">{{item.age}}å²</text></view>
          <view class="case-location">ğŸ“ {{item.missing_location}}</view>
          <view class="case-time">{{item.missing_time}}</view>
        </view>
        <view class="case-status {{item.status}}">{{statusText[item.status]}}</view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ–¹è¨€ -->
  <view class="card">
    <view class="card-header">
      <text class="card-title">æœ€è¿‘æ–¹è¨€</text>
      <text class="card-more" bindtap="goToDialectList">æŸ¥çœ‹æ›´å¤š ></text>
    </view>
    <view class="dialect-list">
      <view class="dialect-item" wx:for="{{recentDialects}}" wx:key="id" bindtap="playDialect" data-id="{{item.id}}">
        <view class="dialect-icon">ğŸµ</view>
        <view class="dialect-info">
          <view class="dialect-title">{{item.title}}</view>
          <view class="dialect-location">{{item.province}} {{item.city}}</view>
        </view>
        <view class="dialect-stats">
          <text class="dialect-plays">â–¶ {{item.play_count}}</text>
          <text class="dialect-likes">â¤ {{item.like_count}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
